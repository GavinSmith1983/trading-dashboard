{
 "Resources": {
  "ProductsTable241ADBFF": {
   "Type": "AWS::DynamoDB::Table",
   "Properties": {
    "AttributeDefinitions": [
     {
      "AttributeName": "sku",
      "AttributeType": "S"
     },
     {
      "AttributeName": "brand",
      "AttributeType": "S"
     },
     {
      "AttributeName": "category",
      "AttributeType": "S"
     }
    ],
    "BillingMode": "PAY_PER_REQUEST",
    "GlobalSecondaryIndexes": [
     {
      "IndexName": "by-brand",
      "KeySchema": [
       {
        "AttributeName": "brand",
        "KeyType": "HASH"
       },
       {
        "AttributeName": "sku",
        "KeyType": "RANGE"
       }
      ],
      "Projection": {
       "ProjectionType": "ALL"
      }
     },
     {
      "IndexName": "by-category",
      "KeySchema": [
       {
        "AttributeName": "category",
        "KeyType": "HASH"
       },
       {
        "AttributeName": "sku",
        "KeyType": "RANGE"
       }
      ],
      "Projection": {
       "ProjectionType": "ALL"
      }
     }
    ],
    "KeySchema": [
     {
      "AttributeName": "sku",
      "KeyType": "HASH"
     }
    ],
    "PointInTimeRecoverySpecification": {
     "PointInTimeRecoveryEnabled": true
    },
    "TableName": "repricing-products"
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "RepricingDatabaseStack/ProductsTable/Resource"
   }
  },
  "PricingRulesTable1AF2183A": {
   "Type": "AWS::DynamoDB::Table",
   "Properties": {
    "AttributeDefinitions": [
     {
      "AttributeName": "ruleId",
      "AttributeType": "S"
     }
    ],
    "BillingMode": "PAY_PER_REQUEST",
    "KeySchema": [
     {
      "AttributeName": "ruleId",
      "KeyType": "HASH"
     }
    ],
    "TableName": "repricing-rules"
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "RepricingDatabaseStack/PricingRulesTable/Resource"
   }
  },
  "PriceProposalsTable931260F5": {
   "Type": "AWS::DynamoDB::Table",
   "Properties": {
    "AttributeDefinitions": [
     {
      "AttributeName": "proposalId",
      "AttributeType": "S"
     },
     {
      "AttributeName": "status",
      "AttributeType": "S"
     },
     {
      "AttributeName": "createdAt",
      "AttributeType": "S"
     },
     {
      "AttributeName": "sku",
      "AttributeType": "S"
     }
    ],
    "BillingMode": "PAY_PER_REQUEST",
    "GlobalSecondaryIndexes": [
     {
      "IndexName": "by-status",
      "KeySchema": [
       {
        "AttributeName": "status",
        "KeyType": "HASH"
       },
       {
        "AttributeName": "createdAt",
        "KeyType": "RANGE"
       }
      ],
      "Projection": {
       "ProjectionType": "ALL"
      }
     },
     {
      "IndexName": "by-sku",
      "KeySchema": [
       {
        "AttributeName": "sku",
        "KeyType": "HASH"
       },
       {
        "AttributeName": "createdAt",
        "KeyType": "RANGE"
       }
      ],
      "Projection": {
       "ProjectionType": "ALL"
      }
     }
    ],
    "KeySchema": [
     {
      "AttributeName": "proposalId",
      "KeyType": "HASH"
     }
    ],
    "TableName": "repricing-proposals",
    "TimeToLiveSpecification": {
     "AttributeName": "ttl",
     "Enabled": true
    }
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "RepricingDatabaseStack/PriceProposalsTable/Resource"
   }
  },
  "ChannelConfigTableD8390BE1": {
   "Type": "AWS::DynamoDB::Table",
   "Properties": {
    "AttributeDefinitions": [
     {
      "AttributeName": "channelId",
      "AttributeType": "S"
     }
    ],
    "BillingMode": "PAY_PER_REQUEST",
    "KeySchema": [
     {
      "AttributeName": "channelId",
      "KeyType": "HASH"
     }
    ],
    "TableName": "repricing-channels"
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "RepricingDatabaseStack/ChannelConfigTable/Resource"
   }
  },
  "OrdersTable315BB997": {
   "Type": "AWS::DynamoDB::Table",
   "Properties": {
    "AttributeDefinitions": [
     {
      "AttributeName": "orderId",
      "AttributeType": "S"
     },
     {
      "AttributeName": "channelName",
      "AttributeType": "S"
     },
     {
      "AttributeName": "orderDate",
      "AttributeType": "S"
     },
     {
      "AttributeName": "orderDateDay",
      "AttributeType": "S"
     }
    ],
    "BillingMode": "PAY_PER_REQUEST",
    "GlobalSecondaryIndexes": [
     {
      "IndexName": "by-channel",
      "KeySchema": [
       {
        "AttributeName": "channelName",
        "KeyType": "HASH"
       },
       {
        "AttributeName": "orderDate",
        "KeyType": "RANGE"
       }
      ],
      "Projection": {
       "ProjectionType": "ALL"
      }
     },
     {
      "IndexName": "by-date",
      "KeySchema": [
       {
        "AttributeName": "orderDateDay",
        "KeyType": "HASH"
       },
       {
        "AttributeName": "orderId",
        "KeyType": "RANGE"
       }
      ],
      "Projection": {
       "ProjectionType": "ALL"
      }
     }
    ],
    "KeySchema": [
     {
      "AttributeName": "orderId",
      "KeyType": "HASH"
     }
    ],
    "PointInTimeRecoverySpecification": {
     "PointInTimeRecoveryEnabled": true
    },
    "TableName": "repricing-orders"
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "RepricingDatabaseStack/OrdersTable/Resource"
   }
  },
  "OrderLinesTable0183B138": {
   "Type": "AWS::DynamoDB::Table",
   "Properties": {
    "AttributeDefinitions": [
     {
      "AttributeName": "orderLineId",
      "AttributeType": "S"
     }
    ],
    "BillingMode": "PAY_PER_REQUEST",
    "KeySchema": [
     {
      "AttributeName": "orderLineId",
      "KeyType": "HASH"
     }
    ],
    "TableName": "repricing-order-lines"
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "RepricingDatabaseStack/OrderLinesTable/Resource"
   }
  },
  "CDKMetadata": {
   "Type": "AWS::CDK::Metadata",
   "Properties": {
    "Analytics": "v2:deflate64:H4sIAAAAAAAA/yWMWw5AMBAAz+K/XbKO4AAS/Mv2IalHK7YlIu4u+JrJfAwClgUUGR0stZnk7BRcbSQ9CTq4N6enJRgFV0dqtqIa/Ce3aCyHtOkv1SmuKd7CB2Nh5HxHBHyvIzsnt+SjWyw0Px+z+UlFcgAAAA=="
   },
   "Metadata": {
    "aws:cdk:path": "RepricingDatabaseStack/CDKMetadata/Default"
   }
  }
 },
 "Outputs": {
  "ProductsTableName": {
   "Value": {
    "Ref": "ProductsTable241ADBFF"
   },
   "Export": {
    "Name": "ProductsTableName"
   }
  },
  "PricingRulesTableName": {
   "Value": {
    "Ref": "PricingRulesTable1AF2183A"
   },
   "Export": {
    "Name": "PricingRulesTableName"
   }
  },
  "PriceProposalsTableName": {
   "Value": {
    "Ref": "PriceProposalsTable931260F5"
   },
   "Export": {
    "Name": "PriceProposalsTableName"
   }
  },
  "ChannelConfigTableName": {
   "Value": {
    "Ref": "ChannelConfigTableD8390BE1"
   },
   "Export": {
    "Name": "ChannelConfigTableName"
   }
  },
  "OrdersTableName": {
   "Value": {
    "Ref": "OrdersTable315BB997"
   },
   "Export": {
    "Name": "OrdersTableName"
   }
  },
  "OrderLinesTableName": {
   "Value": {
    "Ref": "OrderLinesTable0183B138"
   },
   "Export": {
    "Name": "OrderLinesTableName"
   }
  },
  "ExportsOutputFnGetAttProductsTable241ADBFFArn55D06E2D": {
   "Value": {
    "Fn::GetAtt": [
     "ProductsTable241ADBFF",
     "Arn"
    ]
   },
   "Export": {
    "Name": "RepricingDatabaseStack:ExportsOutputFnGetAttProductsTable241ADBFFArn55D06E2D"
   }
  },
  "ExportsOutputFnGetAttPricingRulesTable1AF2183AArnB7A4D291": {
   "Value": {
    "Fn::GetAtt": [
     "PricingRulesTable1AF2183A",
     "Arn"
    ]
   },
   "Export": {
    "Name": "RepricingDatabaseStack:ExportsOutputFnGetAttPricingRulesTable1AF2183AArnB7A4D291"
   }
  },
  "ExportsOutputFnGetAttPriceProposalsTable931260F5Arn234D8B2C": {
   "Value": {
    "Fn::GetAtt": [
     "PriceProposalsTable931260F5",
     "Arn"
    ]
   },
   "Export": {
    "Name": "RepricingDatabaseStack:ExportsOutputFnGetAttPriceProposalsTable931260F5Arn234D8B2C"
   }
  },
  "ExportsOutputFnGetAttChannelConfigTableD8390BE1Arn954AB87F": {
   "Value": {
    "Fn::GetAtt": [
     "ChannelConfigTableD8390BE1",
     "Arn"
    ]
   },
   "Export": {
    "Name": "RepricingDatabaseStack:ExportsOutputFnGetAttChannelConfigTableD8390BE1Arn954AB87F"
   }
  },
  "ExportsOutputFnGetAttOrdersTable315BB997ArnB3A07C42": {
   "Value": {
    "Fn::GetAtt": [
     "OrdersTable315BB997",
     "Arn"
    ]
   },
   "Export": {
    "Name": "RepricingDatabaseStack:ExportsOutputFnGetAttOrdersTable315BB997ArnB3A07C42"
   }
  },
  "ExportsOutputRefProductsTable241ADBFF4DFBD40D": {
   "Value": {
    "Ref": "ProductsTable241ADBFF"
   },
   "Export": {
    "Name": "RepricingDatabaseStack:ExportsOutputRefProductsTable241ADBFF4DFBD40D"
   }
  },
  "ExportsOutputRefPricingRulesTable1AF2183ABBBD31FF": {
   "Value": {
    "Ref": "PricingRulesTable1AF2183A"
   },
   "Export": {
    "Name": "RepricingDatabaseStack:ExportsOutputRefPricingRulesTable1AF2183ABBBD31FF"
   }
  },
  "ExportsOutputRefPriceProposalsTable931260F5DD6E1A93": {
   "Value": {
    "Ref": "PriceProposalsTable931260F5"
   },
   "Export": {
    "Name": "RepricingDatabaseStack:ExportsOutputRefPriceProposalsTable931260F5DD6E1A93"
   }
  },
  "ExportsOutputRefChannelConfigTableD8390BE19EFE0F1C": {
   "Value": {
    "Ref": "ChannelConfigTableD8390BE1"
   },
   "Export": {
    "Name": "RepricingDatabaseStack:ExportsOutputRefChannelConfigTableD8390BE19EFE0F1C"
   }
  },
  "ExportsOutputRefOrdersTable315BB997F7C1D27E": {
   "Value": {
    "Ref": "OrdersTable315BB997"
   },
   "Export": {
    "Name": "RepricingDatabaseStack:ExportsOutputRefOrdersTable315BB997F7C1D27E"
   }
  }
 },
 "Parameters": {
  "BootstrapVersion": {
   "Type": "AWS::SSM::Parameter::Value<String>",
   "Default": "/cdk-bootstrap/hnb659fds/version",
   "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]"
  }
 },
 "Rules": {
  "CheckBootstrapVersion": {
   "Assertions": [
    {
     "Assert": {
      "Fn::Not": [
       {
        "Fn::Contains": [
         [
          "1",
          "2",
          "3",
          "4",
          "5"
         ],
         {
          "Ref": "BootstrapVersion"
         }
        ]
       }
      ]
     },
     "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI."
    }
   ]
  }
 }
}